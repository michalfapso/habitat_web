---
import { getAugmentedProjects } from '../../utils/getProjectImageMetadata';
import Layout from '../../layouts/Layout.astro';
import ProjectDetail from '../../components/ProjectDetail.astro';

export async function getStaticPaths() {
  const skProjects = await getAugmentedProjects('sk');

  const paths = skProjects.map(project => {
    return {
      params: { slug: project.slug },
      props: {
        lang: 'sk',
        project: project,
        id: project.id,
        fullPath: `/projekty/${project.slug}`
      },
    };
  });
  return paths;
}
const { lang, project } = Astro.props;
const allProjects = await getAugmentedProjects(lang);
---

<Layout title={project.data.title}>
    {project && <ProjectDetail project={project} lang={lang} allProjects={allProjects} />}
</Layout>
