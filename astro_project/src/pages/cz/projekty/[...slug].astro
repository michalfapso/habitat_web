---
import { getAugmentedProjects } from '../../../utils/getProjectImageMetadata';
import Layout from '../../../layouts/Layout.astro';
import ProjectDetail from '../../../components/ProjectDetail.astro';

export async function getStaticPaths() {
  const czProjects = await getAugmentedProjects('cz');

  const paths = czProjects.map(project => {
    return {
      params: { slug: project.slug },
      props: {
        lang: 'cz',
        project: project,
        id: project.id,
        fullPath: `/cz/projekty/${project.slug}`
      },
    };
  });
  return paths;
}
const { lang, project } = Astro.props;
const allProjects = await getAugmentedProjects(lang);
---

<Layout title={project.data.title}>
    {project && <ProjectDetail project={project} lang={lang} allProjects={allProjects} />}
</Layout>
