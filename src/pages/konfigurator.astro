---
import { getAugmentedProjects } from '../utils/getProjectImageMetadata';
import { useTranslations } from '../i18n/utils';

import Layout from '../layouts/Layout.astro';
import Hero from '../components/Hero.astro';
import Services from '../components/Services.astro';
import Service from '../components/Service.astro';
import ImgSection from '../components/ImgSection.astro';
import SlidesPoi from '../components/SlidesPoi.astro';
import SlidePoi from '../components/SlidePoi.astro';
import SlidesSteps from '../components/SlidesSteps.astro';
import SectionExpandable from '../components/SectionExpandable.astro';
import SlidesProjects from '../components/SlidesProjects.astro';

const lang = Astro.currentLocale as keyof typeof import('../i18n/utils').languages;
const t = useTranslations(lang);

const selectedProjectDirs = [
	"dom-s-pavlacou",
	"usadlost-na-cervenej-hore",
	"dom-s-mestskym-nadychom",
	"dom-s-bazenom-v-rusovciach",
	"dom-za-mestom",
	"dom-s-cortenom-pri-piestanoch",
	"dom-so-saunou-na-povazi",
];

const allProjects = await getAugmentedProjects(lang);
const projectsByDir = new Map(allProjects.map(p => [p.data.dir, p]));
const selectedProjects = selectedProjectDirs.map(dir => projectsByDir.get(dir)).filter(Boolean);
---

<Layout 
	bodyClass="home"
>
	<Hero className="hero--home">
		Habitat <br>konfigurátor
	</Hero>
	<a id="main"></a>
	
	
	
	<ImgSection id='preco-habitat'>
		<Fragment slot="img">
			<img src="/assets/img/preco-habitat-800w.jpg" srcset="/assets/img/preco-habitat-1200w.jpg 1200w, /assets/img/preco-habitat-2400w.jpg 2400w" sizes="(min-width: 40em) 58vw, 100vw" alt="Vizualizácia domu">
		</Fragment>
		<Fragment slot="content">
			<h2>Prečo <br>Habitat?</h2>
			<p>90% nášho času trávime vo&nbsp;vnútri budov. Kvalita vnútorného prostredia stavby je kľúčová. Teplota, vlhkosť, eliminácia vzniku plesní, zdravá hodnota oxidu uhličitého a&nbsp;minimum alergénov vo&nbsp;vzduchu, ktorý dýchame. <strong>Habitat je ZDRAVÉ prostredie</strong>.</p>
			<p>Viac ako 40% globálnej spotreby energie a&nbsp;jednu tretinu emisií skleníkových plynov tvoria budovy. <strong>Habitat je ZODPOVEDNÁ voľba pre&nbsp;životné prostredie</strong>.</p>
			<p>Minimálna potreba energie znamená ekonomickú istotu. <strong>Habitat je BEZPEČNÉ prostredie</strong>.</p>
		</Fragment>
	</ImgSection>

	<div class="section pb-0">
		<div class="grid-container">
			<h3>Funkčnosť skrytá v&nbsp;dizajne</h3>
		</div>
		<div class="grid-container pi-0">
			<SlidesPoi>
				<SlidePoi
					id="poi-info-01"
					imgSrc="/assets/img/funkcnost/01-756w.jpg"
					imgSrcSet="/assets/img/funkcnost/01-756w.jpg 504w, /assets/img/funkcnost/01-1512w.jpg 1008w, /assets/img/funkcnost/01-2268w.jpg 1512w, /assets/img/funkcnost/01-3024w.jpg 2016w"
					imgAlt="RD Zečák"
					points={[
						{
							leftPercent: 38,
							topPercent: 28.4,
							text: "Tienenie presahom strechy a&nbsp;balkónom, navrhnuté presne podľa pohybu slnka a&nbsp;orientácie pozemku. Aby sa dom v&nbsp;lete neprehrieval a&nbsp;v&nbsp;zime nízke slnko vykurovalo interiér."
						},
						{
							leftPercent: 70.5,
							topPercent: 77,
							text: "Zapustenie stavby do&nbsp;terénu znižuje potrebu energie na&nbsp;vykurovanie v&nbsp;zime a&nbsp;chladenie v&nbsp;lete."
						},
						{
							leftPercent: 52,
							topPercent: 77,
							text: "Optimálne rozmery a&nbsp;umiestnenie okien navrhnuté s&nbsp;dôrazom na&nbsp;energetiku, presvetlenie interiéru a&nbsp;výhľady."
						},
					]}
				/>
				<SlidePoi
					id="poi-info-02"
					imgSrc="/assets/img/funkcnost/02-756w.jpg"
					imgSrcSet="/assets/img/funkcnost/02-756w.jpg 504w, /assets/img/funkcnost/02-1512w.jpg 1008w, /assets/img/funkcnost/02-2268w.jpg 1512w, /assets/img/funkcnost/02-3024w.jpg 2016w"
					imgAlt="RD Zečák"
					points={[
						{
							leftPercent: 40,
							topPercent: 58,
							text: "Napojenie vonkajších konštrukcií bez&nbsp;tepelných mostov a&nbsp;nebezpečenstva vzniku plesní."
						},
						{
							leftPercent: 48,
							topPercent: 68,
							text: "Výber kvalitných okenných profilov a&nbsp;vhodného typu trojskla, s&nbsp;presne definovanými vlastnosťami."
						},
						{
							leftPercent: 55,
							topPercent: 75.5,
							text: "Základová doska na&nbsp;tepelnej izolácii je vo&nbsp;vnútri tepelnej obálky domu a&nbsp;pomáha udržovať stálu teplotu v&nbsp;interiéri."
						},
					]}
				/>
				<SlidePoi
					id="poi-info-03"
					imgSrc="/assets/img/funkcnost/03-756w.jpg"
					imgSrcSet="/assets/img/funkcnost/03-756w.jpg 504w, /assets/img/funkcnost/03-1512w.jpg 1008w, /assets/img/funkcnost/03-2268w.jpg 1512w, /assets/img/funkcnost/03-3024w.jpg 2016w"
					imgAlt="RD Zečák"
					points={[
						{
							leftPercent: 55.5,
							topPercent: 47.5,
							text: "Fasáda z&nbsp;kvalitných materiálov overených v&nbsp;praxi, s&nbsp;presným výpočtom potrebnej hrúbky tepelnej izolácie a&nbsp;difúzie vodnej pary."
						},
						{
							leftPercent: 73.5,
							topPercent: 54,
							text: "Tienenie pergolami. Horizontálna časť chráni okná pred&nbsp;vysokým južným slnkom, vertikálne lamely zase pred&nbsp;nízkym východným a&nbsp;západným slnkom."
						},
						{
							leftPercent: 11,
							topPercent: 62,
							text: "Vplyv okolitých objektov na&nbsp;zimné solárne zisky a&nbsp;letné prehrievanie je presne vypočítaný a&nbsp;zohľadnený do&nbsp;architektonického návrhu."
						},
					]}
				/>
				<SlidePoi
					id="poi-info-04"
					imgSrc="/assets/img/funkcnost/04-756w.jpg"
					imgSrcSet="/assets/img/funkcnost/04-756w.jpg 504w, /assets/img/funkcnost/04-1512w.jpg 1008w, /assets/img/funkcnost/04-2268w.jpg 1512w, /assets/img/funkcnost/04-3024w.jpg 2016w"
					imgAlt="RD Zečák"
					points={[
						{
							leftPercent: 34,
							topPercent: 24,
							text: "Zelená fasáda chráni omietku pred&nbsp;vplyvom UV žiarenia a&nbsp;znižuje povrchovú teplotu fasády v&nbsp;lete, čím pomáha zabraňovať prehrievaniu."
						},
						{
							leftPercent: 33,
							topPercent: 85,
							text: "Rozšírenie pobytového priestoru prekryté funkčným tienením."
						},
						{
							leftPercent: 42,
							topPercent: 71,
							text: "Zdravé vnútorné prostredie. Stály prísun čerstveho vzduchu a&nbsp;minimum alergénov vďaka riadenému vetraniu s&nbsp;rekuperáciou tepla."
						},
					]}
				/>
				<SlidePoi
					id="poi-info-05"
					imgSrc="/assets/img/funkcnost/05-756w.jpg"
					imgSrcSet="/assets/img/funkcnost/05-756w.jpg 504w, /assets/img/funkcnost/05-1512w.jpg 1008w, /assets/img/funkcnost/05-2268w.jpg 1512w, /assets/img/funkcnost/05-3024w.jpg 2016w"
					imgAlt="RD Zečák"
					points={[
						{
							leftPercent: 19,
							topPercent: 65,
							text: "Exteriérové žalúzie chránia presklenie pred&nbsp;prehrievaním. Ich umiestnenie len na&nbsp;oknách, kde sú podľa výpočtu potrebné, prináša finančnú úsporu."
						},
						{
							leftPercent: 36,
							topPercent: 50,
							text: "Unikátne architektonické riešenia, ktorých vplyv na&nbsp;energetiku stavby je exaktne analyzovaný počas návrhu."
						},
						{
							leftPercent: 68,
							topPercent: 48,
							text: "Zelená strecha chráni strešný plášť, pomáha udržovať teplotnú stabilitu miestností a&nbsp;zlepšuje mikroklímu okolia."
						},
					]}
				/>
				<SlidePoi
					id="poi-info-06"
					imgSrc="/assets/img/funkcnost/06-756w.jpg"
					imgSrcSet="/assets/img/funkcnost/06-756w.jpg 504w, /assets/img/funkcnost/06-1512w.jpg 1008w, /assets/img/funkcnost/06-2268w.jpg 1512w, /assets/img/funkcnost/06-3024w.jpg 2016w"
					imgAlt="RD Zečák"
					points={[
						{
							leftPercent: 32,
							topPercent: 63,
							text: "Veľké južné presklenia, ktoré ponúkajú výhľady do&nbsp;okolitej krajiny, sú v&nbsp;lete zatienené a&nbsp;v&nbsp;zime prinášajú solárne zisky."
						},
						{
							leftPercent: 71,
							topPercent: 45.5,
							text: "Kombinácia tienenia drevenou pergolou a&nbsp;presahom plochej strechy. Individuálne riešenie, zohľadňujúce funkčnú prevádzku domu a&nbsp;orientáciu na&nbsp;svetové strany."
						},
						{
							leftPercent: 79,
							topPercent: 28.5,
							text: "Dom navrhnutý na&nbsp;mieru spája miestnu architektúru a&nbsp;jedinečnost svojich majiteľov."
						},
					]}
				/>
			</SlidesPoi>
		</div>
	</div>
	
	<SlidesSteps
		title="Cesta k&nbsp;pasívnemu domu"
		steps={[
			{
				title: "Navrhneme architektúru",
				text: "Na&nbsp;mieru alebo z&nbsp;našich overených riešení navrhneme efektívny a&nbsp;zmysluplný domov pre&nbsp;vás a&nbsp;vašu rodinu.",
			},
			{
				title: "Pripravíme podklady pre povolenie stavby",
				text: "Vypracujeme kompletnú dokumentáciu pre&nbsp;úrady. Všeko, čo budete potrebovať, aby vám umožnili stavať.",
			},
			{
				title: "Detailne naprojektujeme stavbu aj interié",
				text: "Váš dom dôkladne premyslíme a&nbsp;naprojektujeme v&nbsp;realizačnej podrobnosti. Kvalita sa skrýva v&nbsp;detailoch.",
			},
			{
				title: "Zrealizujem",
				text: "V&nbsp;spolupráci s&nbsp;našimi partnermi zodpovedne zrealizujeme váš pasívny dom. Dohliadneme na&nbsp;kvalitu.",
			},
			{
				title: "Sťahujete sa",
				text: "Až v&nbsp;tomto bode máme hotovo. Užívajte si svoj domov od&nbsp;Habitat.",
			}
		]}
	/>

	
	<SectionExpandable
		id="manifest"
		imgSrc="/assets/img/manifest-1600w.jpg"
		imgSrcSet="/assets/img/manifest-1600w.jpg 1600w, /assets/img/manifest-3200w.jpg 3200w"
		imgAlt="RD Rusovce"
		title="Držíme sa <br>svojich zásad"
		text="Domy plánované ako pasívne od začiatku. <strong>Naschvál.</strong>"
		button="Manifest"
	>
		<ol>
			<li>Ako dom navrhneme, tak sa vám bude bývať. Uvedomujeme si svoju <strong>zodpovednosť</strong>.</li>
			<li>Nenavrhujeme prázdne architektonické gestá. Naše domy sú <strong>efektívne a&nbsp;zmysluplné</strong>.</li>
			<li>Energetické nároky domu neodhadujeme. Od&nbsp;začiatku návrhu používame <strong>technické dáta a&nbsp;výpočty</strong>.</li>
			<li>Sme presvedčení, že energetická efektivita dizajn nezväzuje, ale umocňuje jeho <strong>architektonickú a&nbsp;estetickú hodnotu</strong></li>
			<li>Robíme to čo nás baví, najlepšie ako vieme. Veríme, že len kvalitné, <strong>efektívne a&nbsp;krásne domy</strong> dokážu obhájiť svoju hodnotu v&nbsp;čase.</li>
		</ol>
	</SectionExpandable>
	
	<SlidesProjects
		title="Projekty"
		projects={selectedProjects}
	/>

</Layout>
