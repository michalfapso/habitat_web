---
import { getAugmentedProjects } from '../utils/getProjectImageMetadata';
import { useTranslations } from '../i18n/utils';

import Layout from '../layouts/Layout.astro';
import Hero from '../components/Hero.astro';
import Services from '../components/Services.astro';
import Service from '../components/Service.astro';
import ImgSection from '../components/ImgSection.astro';
import SlidesPoi from '../components/SlidesPoi.astro';
import SlidePoi from '../components/SlidePoi.astro';
import SlidesSteps from '../components/SlidesSteps.astro';
import SectionExpandable from '../components/SectionExpandable.astro';
import SlidesProjects from '../components/SlidesProjects.astro';

const lang = Astro.currentLocale as keyof typeof import('../i18n/utils').languages;
const t = useTranslations(lang);

const selectedProjectDirs = [
	"dom-s-pavlacou",
	"usadlost-na-cervenej-hore",
	"dom-s-mestskym-nadychom",
	"dom-s-bazenom-v-rusovciach",
	"dom-za-mestom",
	"dom-s-cortenom-pri-piestanoch",
	"dom-so-saunou-na-povazi",
];

const allProjects = await getAugmentedProjects(lang);
const projectsByDir = new Map(allProjects.map(p => [p.data.dir, p]));
const selectedProjects = selectedProjectDirs.map(dir => projectsByDir.get(dir)).filter(Boolean);
---

<Layout 
	bodyClass="home"
>
	<Hero className="hero--home">
		Habitat <br>konfigurátor
	</Hero>
	<a id="main"></a>
	
	
	
	<ImgSection id='preco-habitat'>
		<Fragment slot="img">
			<img src="/assets/img/preco-habitat-800w.jpg" srcset="/assets/img/preco-habitat-1200w.jpg 1200w, /assets/img/preco-habitat-2400w.jpg 2400w" sizes="(min-width: 40em) 58vw, 100vw" alt="Vizualizácia domu">
		</Fragment>
		<Fragment slot="content">
			<h2>Prečo </h2>
			<p><strong>Habitat Konfigurátor</strong> je našou odpoveďou na neuspokojivú ponuku katalógových domov na trhu. Tie nezohľadňujú špecifiká pozemku a klienta, sú málo dispozične flexibilné a architektonicky ťažko modifikovateľné. V dobe, kedy stále viac záleží na kvalite vnútorného prostredia a energetike sa katalógové domy nekoncepčne umiestňujú na parcely, bez zohľadnenia orientácie na svetové strany, energetickej optimalizácie či účinného tienenia..</p>
			<p>Zozbierali sme najčastejšie dispozičné a konštrukčné zadania, pridali naše know-how a vytvorili tak inovatívny systém tvorby rodinných domov. Máme pripravené stovky kombinácií a overených riešení, ktoré následne prispôsobíme presnými výpočtami na váš konkrétny pozemok. Takto vieme ušetriť čas aj peniaze vo fáze architektonického návrhu s istotou, že váš dom bude spĺňať najvyššie nároky na bývanie a energetickú efektívnosť stavby..</p>
			
		</Fragment>
	</ImgSection>

	
	
	<SlidesSteps
		title="Ako to prebieha?"
		steps={[
			{
				title: "Pošlete nám vašu predstavu",
				text: "Na základe podkladov, pozemku a regulatívov zadarmo zhodnotíme, či je Habitat konfigurátor pre vašu stavbu vhodná voľba a zašleme vám ukážky možných konfigurácií.",
			},
			{
				title: "Pripravíme podklady pre povolenie stavby",
				text: "Vypracujeme kompletnú dokumentáciu pre&nbsp;úrady. Všeko, čo budete potrebovať, aby vám umožnili stavať.",
			},
			{
				title: "Detailne naprojektujeme stavbu aj interié",
				text: "Váš dom dôkladne premyslíme a&nbsp;naprojektujeme v&nbsp;realizačnej podrobnosti. Kvalita sa skrýva v&nbsp;detailoch.",
			},
			{
				title: "Zrealizujem",
				text: "V&nbsp;spolupráci s&nbsp;našimi partnermi zodpovedne zrealizujeme váš pasívny dom. Dohliadneme na&nbsp;kvalitu.",
			},
			{
				title: "Sťahujete sa",
				text: "Až v&nbsp;tomto bode máme hotovo. Užívajte si svoj domov od&nbsp;Habitat.",
			}
		]}
	/>

	
	<SectionExpandable
		id="manifest"
		imgSrc="/assets/img/manifest-1600w.jpg"
		imgSrcSet="/assets/img/manifest-1600w.jpg 1600w, /assets/img/manifest-3200w.jpg 3200w"
		imgAlt="RD Rusovce"
		title="Držíme sa <br>svojich zásad"
		text="Domy plánované ako pasívne od začiatku. <strong>Naschvál.</strong>"
		button="Manifest"
	>
		<ol>
			<li>Ako dom navrhneme, tak sa vám bude bývať. Uvedomujeme si svoju <strong>zodpovednosť</strong>.</li>
			<li>Nenavrhujeme prázdne architektonické gestá. Naše domy sú <strong>efektívne a&nbsp;zmysluplné</strong>.</li>
			<li>Energetické nároky domu neodhadujeme. Od&nbsp;začiatku návrhu používame <strong>technické dáta a&nbsp;výpočty</strong>.</li>
			<li>Sme presvedčení, že energetická efektivita dizajn nezväzuje, ale umocňuje jeho <strong>architektonickú a&nbsp;estetickú hodnotu</strong></li>
			<li>Robíme to čo nás baví, najlepšie ako vieme. Veríme, že len kvalitné, <strong>efektívne a&nbsp;krásne domy</strong> dokážu obhájiť svoju hodnotu v&nbsp;čase.</li>
		</ol>
	</SectionExpandable>
	
	<SlidesProjects
		title="Projekty"
		projects={selectedProjects}
	/>

</Layout>
